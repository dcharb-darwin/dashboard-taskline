{
  "version": 1,
  "defaultProfile": "typescript-fullstack",
  "profiles": [
    {
      "id": "dashboard-taskline",
      "description": "RTC dashboard + taskline product with template lifecycle, project execution, and governance PRD lanes.",
      "match": {
        "repos": [
          "dashboard-taskline-repo",
          "dashboard-taskline",
          "rtc-project-manager"
        ],
        "pathContains": [
          "dashboard-taskline",
          "rtc-project-manager"
        ],
        "filesExist": [
          "server/routers.ts",
          "client/src/pages/ProjectDetail.tsx",
          "drizzle/schema.ts"
        ]
      },
      "agentConfig": {
        "planningMode": "prd-first",
        "branchPrefix": "codex/",
        "memoryProjectTag": "codex:project:{repo_name}",
        "memoryGlobalTag": "codex:global",
        "readStrategy": "parallel-rg-first",
        "editStrategy": "apply_patch-preferred"
      },
      "workflow": {
        "tracks": [
          "PRD-001 Template platform and lifecycle",
          "PRD-002 Project execution workflow",
          "PRD-003 Collaboration and notifications",
          "PRD-004 Portfolio governance and reporting"
        ],
        "startupChecklist": [
          "Run profile resolver and confirm dashboard-taskline profile.",
          "Review active PRD docs in docs/ before implementation.",
          "Inspect git status and avoid reverting unrelated user changes."
        ],
        "implementationChecklist": [
          "Keep API schema, in-memory fallback state, and UI behavior aligned.",
          "Prefer small vertical slices (db + router + ui + tests) per feature.",
          "Add/adjust migrations for any schema changes and keep type safety intact."
        ],
        "deliveryChecklist": [
          "Run pnpm check, pnpm test, and pnpm build.",
          "Summarize behavior changes with file references.",
          "Capture remaining risks or follow-ups."
        ],
        "qualityGates": [
          "pnpm check",
          "pnpm test",
          "pnpm build"
        ],
        "primaryDocs": [
          "docs/PRD-001-template-platform.md",
          "docs/PRD-002-project-execution.md",
          "docs/PRD-003-collaboration-notifications.md",
          "docs/PRD-004-portfolio-governance.md",
          "docs/AGENT_WORKFLOW.md"
        ]
      }
    },
    {
      "id": "typescript-fullstack",
      "description": "Fallback profile for unknown TypeScript full-stack projects.",
      "match": {
        "filesExist": [
          "package.json",
          "tsconfig.json"
        ]
      },
      "agentConfig": {
        "planningMode": "spec-first",
        "branchPrefix": "codex/",
        "memoryProjectTag": "codex:project:{repo_name}",
        "memoryGlobalTag": "codex:global",
        "readStrategy": "parallel-rg-first",
        "editStrategy": "apply_patch-preferred"
      },
      "workflow": {
        "tracks": [
          "Feature implementation",
          "Bug fixes and hardening",
          "Testing and release readiness"
        ],
        "startupChecklist": [
          "Inspect project docs and repository state.",
          "Clarify scope, assumptions, and acceptance criteria."
        ],
        "implementationChecklist": [
          "Keep changes minimal and test-covered.",
          "Prioritize behavior correctness over broad refactors."
        ],
        "deliveryChecklist": [
          "Run local typecheck/tests/build if available.",
          "Document what changed and what remains."
        ],
        "qualityGates": [
          "npm test",
          "npm run build"
        ],
        "primaryDocs": []
      }
    }
  ]
}
